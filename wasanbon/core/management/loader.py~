#!/usr/bin/env python
import sys, os
import yaml

def load_settings():
    import wasanbon.settings
    root_dir = wasanbon.settings.__path__[0]
    setting = load_subdir(root_dir)
    print setting
        


def load_yaml(file):
    return yaml.load(file)
    
def load_subdir(root):
    ret = {}
    for dir in os.listdir(root):
        if os.path.isdir(dir):
            ret[dir] = load_subdir(dir)
        elif os.path.isfile(dir):
            if dir.endswith('yaml'):
                ret[dir] = load_yaml(dir)
    return ret
